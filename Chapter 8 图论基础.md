若没有特殊说明，统一默认对有向图和无向图都一样
## 基础知识
#### 基本定义
无论有向图还是无向图，都是二元组 $G=(V,E)$
	其中 $V(\ne\emptyset)$ 是顶点集，$E$ 是边集
	有向图的**基图**是不考虑方向得到的无向图。
删除边不删顶点，但删顶点要删关联的边

$|V(G)|=n$，则称 $G$ 是 $n$ 阶图
$|E(G)|=0$称为零图，一阶零图也称为**平凡图**

没有重边和环的图称为**简单图**

#### 度数
$v$ 的度数用 $d(v)$ 表示，对于有向图分出度 $d^+(v)$ 和入度 $d^-(v)$
%%对于无向图的环要计算两次%%
握手定理：
	$G=(V,E)，\sum_{v\in V}d(v)=2|E|，对于有向图还有\sum_{v\in V}d^-(v)=\sum_{v\in V}d^+(v)=|E|$

任何图（无向图或有向图）的奇度顶点（即度数为奇数）个数是偶数
$k$-正则图：所有顶点度数都是 $k$ $\Rightarrow$ $n$ 阶 $k$ 正则图的边数是 $(nk)/2$ 

$\left\{\begin{matrix}n阶完全图K_n:每个顶点的度数都是n-1\\n阶圈C_n:每个顶点的度数都是2\\n阶轮W_n:共n+1个顶点，其中n个顶点度数为3，构成一个圈\\n阶超立方Q_n:2^n个顶点，每个顶点的度数为n\end{matrix}\right.$

#### 图与图
子图：$G=(V, E)$，若$G^′=(V^′, E^′)$ 满足 $V^′⊆V$ 且 $E^′⊆E$ ，则称 $G^′$ 是 $G$ 的子图
	若 $V^′=V$，则称生成子图
	也可以由已有 $V^′⊆V$ 选取已有的内部边导出子图

同构：简单地说，就是广义上的“拓扑结构”相同

二部图（偶图）：对于简单图 $G=(V,E)$，如果 $V$ 可划分为非空且不相交的顶点集 $V_1$ 和 $V_2$（称为 $V$ 的一个二部划分），且 $G$ 的所有边关联的一个顶点在 $V_1$，另一个顶点在 $V_2$ （两个顶点集分别的内部没有边关联）
完全二部图$K_{m,n}$：$V_1$ 的任意顶点都与 $V_2$ 的任意顶点有边相连
——————————————————————————————————————————————
## 连通性
指图任意两个顶点间是否有通路，也即能否从一个顶点经过图的边到另一个顶点
#### 通路
顶点和边的交替序列 $Γ= v_0e_1v_1e_2⋯e_nv_n$ ，其中$\forall i\in[1,n]，e_i=(v_i-1,v_i)或\langle v_i-1,v_i\rangle$
	若 $v_0=v_n$，则称 $Γ$ 为**回路**
	不含重复的边（不是重边！）则称通路是简单的
	不含重复的顶点则称通路是初级的

若存在以 $u$ 和 $v$ 为端点的通路，则存在以 $u$ 和 $v$ 为端点的长度 $\le n−1$ 的初级通路
若存在 $u$ 的回路，则存在以 $u$ 的长度 $\le n−1$ 的初级回路

#### 无向图相关
**非零图的无向图 $G$ 是二部图当且仅当它没有奇数长的回路**

若无向图 $G$ 存在 $u$ 和 $v$ 的通路，则称 $u$ 和 $v$ 是可达的$(u\leftrightarrow v)$
	$\leftrightarrow$ 是等价关系，$V$ 关于 $\leftrightarrow$ 的等价类 $[u]_{\leftrightarrow}⊆V$ 导出的子图为 $G$ 的连通分支(就是相互可达的顶点导出的子图)
	$G$ 的连通分支数目为 $p(G)$
		若 $p(G)=1$，则 $G$ 是连通图
		$|E|>\frac{1}{2}(|V|-1)(|V|-2)$，则 $G$ 是连通图

点割集 $V^′⊆V$：删除 $V^′$ 的所有顶点会增加连通分支数，但删除 $V^′$ 任意真子集的顶点不会增加连通分支数
	对于顶点数最小的点割集 $V^′$， $|V^′|$称作点连通度
	如果只包含一个顶点，则此点称为割点

边割集 $E^′⊆E$：删除 $E^′$ 的所有边会增加连通分支数，但删除 $E^′$ 的任意真子集的边则不会增加连通分支数
	对于边数最小的边割集 $E^′$， $|E^′|$称作边连通度
	如果只包含一条边，则此点称为桥
	
#### 有向图相关
此处则称作有向通路，记作 $u\to v$
	$u\to v$ 且 $v\to u$，则有 $u\leftrightarrow v$
	总有 $u\leftrightarrow u$

因此我们可以得到关于有向图 $G:\left\{\begin{matrix}强连通:\forall u,v\in V \ u\leftrightarrow v\\单向连通:\forall u,v\in V \ u\to v或v\to u\\弱连通:基图是连通图\end{matrix}\right.$
——————————————————————————————————————————————
## 图的存储与表示
#### 关联矩阵
$G=(V,E)$ 是无环有向图，$V=\{v_1, v_2, ⋯, v_n\}  E=\{e_1, e_2, ⋯, e_m\}$
G的关联矩阵 $M=[m_{ij}]$ 是 $n×m$ 的矩阵：$m_ij=\left\{\begin{matrix}1(v_i是e_j的起点)\\-1(v_i是e_j的终点)\\0\end{matrix}\right.$
（对于无向图，则都是 $1$）

#### 领接矩阵
这个很trivial了，$A=[A_{ij}]$ 是 $n$ 阶方阵，$a_{ij}=以v_i为起点，v_j为终点的有向边的条数$
（对于无向图，就是边的条数）

#### 可达矩阵
$G=(V,E)$ 是有向图，$A$ 是其领接矩阵，则 $A^k$ 给出两个顶点间长度为 $k$ 的有向通路条数
令可达矩阵 $P=\sum^{n-1}_1 A^k$（或$\mathbb{Warshall}$算法），则 $p_{ij}>0 \Leftrightarrow v_i\to v_j$ 
	但其实严格地说，若 $p_{ij}>0$，则可达矩阵的对应元素要规格化为1
——————————————————————————————————————————————
## 图的遍历
#### DFS
```
DFS(start):
    stack = 空栈
    visited: 布尔数组，初始化为 false
    
    visited[start] = true
    stack.push(start)
    
    while (stack 不为空) do:
        v = stack.pop()
        输出或处理 v
        
        for each u in adj[v] do:
            if not visited[u] then:
                visited[u] = true
                stack.push(u)

// 若图不连通，同样需要循环所有顶点
```
#### BFS
```
BFS(start):
    queue = 空队列
    visited: 布尔数组，初始化为 false
    
    visited[start] = true
    queue.enqueue(start)
    
    while (queue 不为空) do:
        v = queue.dequeue()
        输出或处理 v
        
        for each u in adj[v] do:
            if not visited[u] then:
                visited[u] = true
                queue.enqueue(u)

// 若图不连通
BFS_Graph(G):
    for each vertex v in V do:
        if not visited[v] then:
            BFS(v)
```
——————————————————————————————————————————————
## 树
#### 无向树
是连通无回路的无向图（必定是简单图）
	任意两个顶点之间存在惟一的通路
	连通且任意边都是桥
	任何两个不相邻顶点间加一条新边，则得到唯一一个回路
	$|E|=|V|-1$
%%以上命题相互等价(包括定义)%%

#### 有向树
若一个有向图的基图是树，则这个图是有向树（数据结构里面的树一般就是这个）
	只有一个顶点入度为0，称为根；出度为0称为叶子，其余的是内部顶点
	除了根以外的顶点入度都是1
	层数是从根部开始数，从零开始；树高是最高层数字

有序树：每个顶点的子顶点都按顺序排列

一些特殊的树：
	m元树：每个顶点的出度都不大于m
	平衡m元树：叶子之间高度最多差1
	满m元树（正则m元树）：每个顶点的出度不是0就是m
	完全m元树，每片叶子的层数都等于树高

有 $l$ 片叶子的m元树的树高h $≥⌈log_ml⌉$
	其中平衡满m元树高度最小，等于 $⌈log_ml⌉$
%%这里排除了完全树，我想是因为完全树的顶点树是比较固定的%%

#### 遍历
简化版：
```
Preorder(root):
    if node == null:
        return
    
    visit(node)
    
    for each child in node.children do:
        Preorder(child)
```

```
Inorder_General(node, k):
    if node == null:
        return
    
    for i = 1 to k-1 do:
        Inorder_General(node.children[i-1], k)
    
    visit(node)
    
    for i = k to len(node.children) do:
        Inorder_General(node.children[i-1], k)
```

```
Postorder(root):
    if node == null:
        return
    
    for each child in node.children do:
        Postorder(child)
        
    visit(node)
```
——————————————————————————————————————————————
## 特殊的图
#### 可平面图
若能将图 $G$ 画在平面上，且任意两条边的交点只是 $G$ 的顶点，则称 $G$ 是可平面图
	平面图 $G$ 由若干边包围而成，且其中不含图的顶点和边的区域称为 $G$ 的一个面，分外部面和内部面
	包围面 $R$ 的所有边构成的回路称为该面的边界，回路的长度为该面的度，记为 $deg(R)$
	悬挂边要重复算

$\mathbb{Euler.}$连通平面图 $G=(V,E)$ 有 $d$ 个面：$|V|-|E|+d=2$
	边数上界：若各面度数 $\le l(l\le 3)$，则 $|E|\le \frac{l}{l-2}(|V|-2)$
	面数上界：有不少于3个顶点的话，$d\le d(n-2)\le 2|V|-4$

极大平面图：$G=(V,E),\forall v_i,v_j\in V,(v_i,v_j)\notin E,有G^′=(V, E∪\{(v_i, v_j)\})不是平面图$
	即在 $G$ 的任意两个不相邻顶点之间加一条新边都得到非平面图
	没有桥
	每个面都由三条边组成
	$3d=2|E|$，$d$ 是面数$\to |E|=3|V|-6$（另外得到了连通简单平面图的面数上界）

$\mathbb{Kuratowski.}G$是可平面的 $\Leftrightarrow G$ 不存在 $K$ 型子图

#### 欧拉图
一笔画：无向连通图 $G=(V, E)$ 的一条经过所有边的简单回路（通路）称为 $G$ 的欧拉回路
（通路）
	有欧拉回路的图就叫做欧拉图
	有欧拉通路的图就叫做半欧拉图

欧拉图的充要条件：$$\forall v\in V,2\mid deg(v)$$
#### 哈密顿图
无向图 $G=(V, E)$ 的一条经过所有顶点的初级回路（通路）称为 $G$ 的哈密顿回路
（通路）
	同上定义哈密顿图和半哈密顿图

极长通路
简单通路 $Γ= v_0e_1v_1e_2⋯e_nv_n$ 不存在顶点 $v∈V，v≠v_i(0≤i≤n)$ 使得 $v$ 与 $Γ$ 的端点 $v_0$ 或 $v_n$ 相邻
	若又是初级通路，则称为极长初级通路

哈密顿图的充分条件：$n阶简单图G,\forall u,v\in V,deg(u)+deg(v)\ge n-1$